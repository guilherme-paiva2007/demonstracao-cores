<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Teste de Cores</title>
        <link rel="stylesheet" href="./css/teste.css">
        <link rel="shortcut icon" href="./img/icon.svg" type="image/x-icon">
        <script src="js/code.js"></script>
        <style> /* SE ADICIONAR MAIS LISTAS DE ESTILO, ALTERE A POSIÇÃO EM js/code.js NA FUNÇÃO getCSSBGColorRules() */
            .red { background-color: rgb(255, 0, 0); } /* UTILIZE APENAS UM SELETOR DE CLASSE */
            .green { background-color: rgb(0, 255, 0); /* asd */} /* UTILIZE APENAS rgb(red, green, blue) */
            .blue { background-color: rgb(0, 0, 255); }
            .cyan { background-color: rgb(0, 255, 255); }
            .magenta { background-color: rgb(255, 0, 255); }
            .yellow { background-color: rgb(255, 255, 0); }
            .spring_green { background-color: rgb(0, 255, 127); }
            .chartreuse_green { background-color: rgb(127, 255, 0); }
            .orange { background-color: rgb(255, 127, 0); }
            .bright_pink { background-color: rgb(255, 0, 127); }
            .violet { background-color: rgb(127, 0, 255); }
            .azure { background-color: rgb(0, 127, 255); }
            .white { background-color: rgb(255, 255, 255); }
            #a { color: white; }
            .black { background-color: rgb(0, 0, 0); }
            .colorSelect1 { background-color: rgb(255, 255, 255); }
            .colorSelect2 { background-color: rgb(255, 255, 255); }
        </style>
        <style>
            .darkText {
                color: #1f2d3d;
            }
            .lightText {
                color: white;
            }
        </style>
    </head>
    <body>
        <header>
            <p>Página inicial: <a href="./index.html">./index.html</a></p>
        </header>
        <main>
            <div class="container">
                <div class="bloco red"></div>
                <div class="bloco green"></div>
                <div class="bloco blue"></div>
            </div>
            <div class="container">
                <div class="bloco cyan"></div>
                <div class="bloco magenta"></div>
                <div class="bloco yellow"></div>
            </div>
            <div class="container">
                <div class="bloco spring_green"></div>
                <div class="bloco chartreuse_green"></div>
                <div class="bloco orange"></div>
                <div class="bloco bright_pink"></div>
                <div class="bloco violet"></div>
                <div class="bloco azure"></div>
            </div>
            <div class="container">
                <div class="bloco white"></div>
                <div class="bloco black"></div>
            </div>
            <div class="container">
                <div class="legenda">
                    <p><b>RGB</b><br>Color Slide</p>
                    <p id="colorSelect1DESC" class="slide_desc">
                </div>
                <div class="bloco colorSelect1"></div>
                <div class="slides">
                    <div>
                        <label>Red</label>
                        <input type="range" id="colorSelect1RED" min="" max="" class="slide redSlide" oninput="">
                    </div>
                    <div>
                        <label>Green</label>
                        <input type="range" id="colorSelect1GREEN" min="" max="" class="slide greenSlide" oninput="">
                    </div>
                    <div>
                        <label>Blue</label>
                        <input type="range" id="colorSelect1BLUE" min="" max="" class="slide blueSlide" oninput="">
                    </div>
                    <script>
                        let colorSelect1 = new Slide('rgb', "colorSelect1", {input1: "colorSelect1RED", input2: "colorSelect1GREEN", input3: "colorSelect1BLUE"}, "colorSelect1DESC")
                        colorSelect1.dyname(dynamicInputs.fill, colorSelect1.inputs[1], "red")
                        colorSelect1.dyname(dynamicInputs.fill, colorSelect1.inputs[2], "green")
                        colorSelect1.dyname(dynamicInputs.fill, colorSelect1.inputs[3], "blue")
                    </script>
                </div>
            </div>
            <div class="container">
                <div class="legenda">
                    <p><b>HSL</b><br>Color Slide</p>
                    <p id="colorSelect2DESC" class="slide_desc"></p>
                    <div hidden>
                        <label>Alpha</label>
                        <input type="range" id="colorSelect2ALPHA" min="" max="" class="slide silverSlide" oninput="">
                    </div>
                </div>
                <div class="bloco colorSelect2"></div>
                <div class="slides">
                    <div>
                        <label>Hue</label>
                        <input type="range" id="colorSelect2HUE" min="" max="" class="slide" oninput="">
                    </div>
                    <div>
                        <label>Saturation</label>
                        <input type="range" id="colorSelect2SATUR" min="" max="" class="slide silverSlide" oninput="">
                    </div>
                    <div>
                        <label>Lightness</label>
                        <input type="range" id="colorSelect2LIGHT" min="" max="" class="slide lightGoldSlide" oninput="">
                    </div>
                    <script>
                        let colorSelect2 = new Slide("hsl", "colorSelect2", {input1: "colorSelect2HUE", input2: "colorSelect2SATUR", input3: "colorSelect2LIGHT", alpha: "colorSelect2ALPHA"}, "colorSelect2DESC")
                        colorSelect2.dyname(dynamicInputs.hue, colorSelect2.inputs[1], "", { satID: colorSelect2.inputs[2].id, ligID: colorSelect2.inputs[3].id } )
                        colorSelect2.dyname(dynamicInputs.fading, colorSelect2.inputs[2], "", { color1: [0, 0, 0], color2: [0, 0, 90], colorsType: "hsl" })
                        colorSelect2.dyname(dynamicInputs.fading, colorSelect2.inputs[3], "", { color1: [100, 120, 200], color2: [255, 255, 143], colorsType: "rgb" })
                    </script>
                </div>
            </div>
        </main>
    </body>
    <script>
        var colorList = getCSSBGColorRules(ColorsStyleSheet);
        setInterval(() => {colorList.forEach((colorArray) => {
            colorList = getCSSBGColorRules(ColorsStyleSheet);
            
            forEach_Classes(colorArray[0], writeInside, concatColor(colorArray[1]))

        });}, 100)

        setInterval(() => {
            colorList.forEach(colorArray => {
                forEach_Classes(colorArray[0], (element, colorArr) => {
                    let alphaOK = true;
                    if (colorArr[0][1][3] !== null) {
                        if (colorArr[0][1][3] < 0.5) alphaOK = false;
                    }
                    if (isDark(colorArr[0][1]) && alphaOK) {
                        document.styleSheets[ColorsStyleSheet].cssRules[colorArr[0][2]].style.color = "white"
                    } else {
                        document.styleSheets[ColorsStyleSheet].cssRules[colorArr[0][2]].style.color = "#1f2d3d"
                    }
                }, colorArray)
            })
        }, 100)
    </script>
</html>